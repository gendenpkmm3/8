<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è¡Œå‹•ä»£è™Ÿï¼šç”Ÿå­—ç‰¹è¨“ (SPY x FAMILY)</title>
    <style>
        /* --- SPY x FAMILY ä¸»é¡Œæ¨£å¼ --- */
        :root {
            --spy-green: #005f40; /* æ´›ä¼Šå¾·è¥¿è£çš„ç¶ è‰²èª¿ */
            --spy-gold: #c4a747;  /* ä¼Šç”¸å­¸åœ’åˆ¶æœçš„é‡‘è‰² */
            --spy-dark: #222831;  /* æš—å¤œè¡Œå‹•è‰² */
            --spy-light: #f2f2f2; /* æ–‡ä»¶ç´™å¼µè‰² */
            --bg-pattern: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23005f40' fill-opacity='0.05'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
        }

        body {
            font-family: 'Helvetica Neue', Arial, 'å¾®è»Ÿæ­£é»‘é«”', sans-serif;
            background-color: var(--spy-light);
            background-image: var(--bg-pattern);
            color: var(--spy-dark);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 20px;
        }

        .quiz-container {
            background-color: #fff;
            border: 2px solid var(--spy-green);
            border-top: 8px solid var(--spy-green);
            border-radius: 8px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
            width: 100%;
            max-width: 750px;
            padding: 30px;
            position: relative;
            overflow: hidden;
        }

        h1 {
            text-align: center;
            color: var(--spy-green);
            font-weight: 800;
            letter-spacing: 1px;
            margin-bottom: 25px;
            text-transform: uppercase;
            border-bottom: 2px solid var(--spy-gold);
            display: inline-block;
            padding-bottom: 10px;
            position: relative;
            left: 50%;
            transform: translateX(-50%);
        }

        /* å•é¡Œå€åŸŸ */
        .question-text {
            font-size: 1.3rem;
            font-weight: bold;
            margin-bottom: 20px;
            line-height: 1.6;
            background-color: #e8f0e8;
            padding: 15px 20px;
            border-left: 5px solid var(--spy-green);
            border-radius: 4px;
        }

        /* åœ–ç‰‡å€åŸŸ */
        .image-container {
            text-align: center;
            margin-bottom: 25px;
            border: 2px solid var(--spy-dark);
            border-radius: 4px;
            overflow: hidden;
            background-color: #ddd;
            min-height: 300px;
            display: flex;
            justify-content: center;
            align-items: center;
            box-shadow: inset 0 0 20px rgba(0,0,0,0.1);
        }

        .quiz-image {
            max-width: 100%;
            height: auto;
            display: block;
        }

        /* é¸é …æŒ‰éˆ• */
        .options-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }

        .option-btn {
            background-color: white;
            border: 2px solid var(--spy-green);
            color: var(--spy-green);
            border-radius: 4px;
            padding: 12px 20px;
            font-size: 1.2rem;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: bold;
            text-align: center;
        }

        .option-btn:hover:not([disabled]) {
            background-color: var(--spy-green);
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,95,64,0.2);
        }

        .option-btn.correct {
            background-color: var(--spy-green) !important;
            color: white !important;
            border-color: var(--spy-green) !important;
        }

        .option-btn.incorrect {
            background-color: #c0392b !important;
            color: white !important;
            border-color: #c0392b !important;
        }

        /* å›é¥‹èˆ‡æç¤º */
        .feedback, .hint-box {
            margin-top: 20px;
            padding: 15px;
            border-radius: 4px;
            font-size: 1rem;
            display: none;
        }

        .feedback.correct {
            background-color: #d4edda;
            border-left: 5px solid #28a745;
            color: #155724;
        }

        .feedback.incorrect {
            background-color: #f8d7da;
            border-left: 5px solid #dc3545;
            color: #721c24;
        }

        .hint-box {
            background-color: #e2e3e5;
            border-left: 5px solid var(--spy-dark);
            color: #383d41;
            font-style: italic;
        }

        /* æ§åˆ¶æŒ‰éˆ• */
        .controls {
            margin-top: 25px;
            display: flex;
            justify-content: space-between;
        }

        .hint-btn, .next-btn, .restart-btn {
            padding: 10px 25px;
            font-size: 1rem;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-weight: bold;
            text-transform: uppercase;
            letter-spacing: 1px;
            transition: background-color 0.2s;
        }

        .hint-btn {
            background-color: #6c757d;
            color: white;
        }
        .hint-btn:hover { background-color: #5a6268; }
        
        .next-btn {
            background-color: var(--spy-gold);
            color: var(--spy-dark);
            display: none;
        }
        .next-btn:hover { background-color: #b3983f; }

        /* é€²åº¦æ¢ */
        .progress-bar-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 8px;
            background-color: #e9ecef;
        }
        .progress-bar {
            height: 100%;
            background-color: var(--spy-gold);
            width: 0%;
            transition: width 0.4s ease;
        }

        /* çµæœé é¢ */
        .results-container {
            text-align: center;
            display: none;
            padding: 40px 20px;
        }
        .score-title {
            font-size: 1.5rem;
            color: var(--spy-dark);
            margin-bottom: 10px;
        }
        .score-text {
            font-size: 3.5rem;
            color: var(--spy-green);
            font-weight: 800;
            margin: 20px 0;
        }
        .result-message {
            font-size: 1.2rem;
            margin-bottom: 30px;
            color: #555;
        }
        .restart-btn {
            background-color: var(--spy-green);
            color: white;
            font-size: 1.1rem;
        }
        .restart-btn:hover { background-color: #004d33; }
        
        /* æ©Ÿå¯†å°ç« è£é£¾ */
        .top-secret-stamp {
            position: absolute;
            top: -20px;
            right: -20px;
            color: rgba(192, 57, 43, 0.15);
            font-size: 5rem;
            font-weight: bold;
            transform: rotate(15deg);
            pointer-events: none;
            border: 4px solid rgba(192, 57, 43, 0.15);
            padding: 5px 20px;
            border-radius: 10px;
            font-family: 'Courier New', Courier, monospace;
        }

    </style>
</head>
<body>

    <div class="quiz-container">
        <div class="progress-bar-container">
            <div class="progress-bar" id="progress-bar"></div>
        </div>
        <div class="top-secret-stamp">TOP SECRET</div>
        <h1>è¡Œå‹•ä»£è™Ÿï¼šç”Ÿå­—ç‰¹è¨“</h1>

        <div id="quiz-content">
            <div class="question-section">
                <div class="question-text" id="question-text">ä»»å‹™è¼‰å…¥ä¸­...</div>
                <div class="image-container">
                    <img src="" alt="Mission Image" class="quiz-image" id="quiz-image">
                </div>
            </div>

            <div class="options-container" id="options-container">
                </div>

            <div class="feedback" id="feedback"></div>
            <div class="hint-box" id="hint-box">æƒ…å ±æç¤º: <span id="hint-text"></span></div>

            <div class="controls">
                <button class="hint-btn" id="hint-btn" onclick="toggleHint()">ğŸ” ç²å–æƒ…å ±</button>
                <button class="next-btn" id="next-btn" onclick="nextQuestion()">ä¸‹ä¸€å€‹ä»»å‹™ â¡ï¸</button>
            </div>
        </div>

        <div class="results-container" id="results-content">
            <h2>ä»»å‹™å ±å‘Š</h2>
            <p class="score-title">æœ€çµ‚è©•åˆ†ï¼š</p>
            <div class="score-text" id="final-score">0 / 14</div>
            <p class="result-message" id="result-message"></p>
            <button class="restart-btn" onclick="restartQuiz()">é‡å•Ÿä»»å‹™</button>
        </div>

    </div>

    <script>
        // --- JavaScript é‚è¼¯æ§åˆ¶ ---

        // 1. é¡Œåº«è³‡æ–™ (å·²è¨­å®šç‚ºæ‚¨è¦æ±‚çš„æª”åæ ¼å¼ 1.jpg - 14.jpg)
        // è¨»ï¼šç‚ºäº†é…åˆå–®é¸é¡Œå½¢å¼ï¼Œéƒ¨åˆ†é¡Œç›®é¸å–äº†é—œéµå­—ä½œç‚ºé¸é …ã€‚
        const quizData = [
            {
                question: "1. é¢å°æ•µäººåš´å¯†çš„è­¦å‚™ï¼Œæ´›ä¼Šå¾·è€å¿ƒç­‰å¾…è‘—é˜²å®ˆéœ²å‡ºç©ºï¼ˆã€€ï¼‰çš„ç¬é–“ã€‚",
                imageUrl: "1.jpg",
                answerOptions: [
                    { text: "éš™", rationale: "ã€Œç©ºéš™ã€æŒ‡ä¸­é–“ç©ºå‡ºçš„åœ°æ–¹ï¼Œå¼•ç”³ç‚ºæ¼æ´æˆ–æ©Ÿæœƒã€‚", isCorrect: true },
                    { text: "ç´°", rationale: "ã€Œç©ºç´°ã€ä¸æ˜¯ä¸€å€‹è©èªã€‚", isCorrect: false }
                ],
                hint: "æŒ‡ç¸«éš™ã€æ¼æ´ï¼Œç™¼éŸ³èˆ‡ã€Œç´°ã€ç›¸åŒã€‚"
            },
            {
                question: "2. ã€Œç¡ç¾äººã€æ½›å…¥äº†çŠ¯ç½ªé›†åœ˜çš„å·¢ï¼ˆã€€ï¼‰ï¼Œåš‡å¾—å£äººå€‘åƒè€é¼ ä¸€æ¨£å››è™•é€ƒï¼ˆã€€ï¼‰ã€‚",
                imageUrl: "2.jpg",
                answerOptions: [
                    { text: "çªŸ / ç«„", rationale: "ã€Œå·¢çªŸã€æŒ‡å£äººèšå±…çš„åœ°æ–¹ï¼›ã€Œé€ƒç«„ã€æŒ‡å€‰çš‡é€ƒè·‘ã€‚", isCorrect: true },
                    { text: "çª© / è·‘", rationale: "ã€Œå·¢çª©ã€è¼ƒå£èªï¼›ã€Œé€ƒè·‘ã€èªæ°£ä¸å¦‚ã€Œé€ƒç«„ã€å¼·çƒˆå€‰çš‡ã€‚", isCorrect: false }
                ],
                hint: "ç¬¬ä¸€å€‹å­—æŒ‡æ´ç©´ï¼Œç¬¬äºŒå€‹å­—å½¢å®¹åƒè€é¼ ä¸€æ¨£äº‚è·‘ã€‚"
            },
            {
                question: "3. ç®¡ç†å®˜åš´è‚…åœ°æé†’ã€Œé»ƒæ˜ã€ï¼Œã€Œè¡Œå‹•ä»£è™Ÿï¼šæ¢Ÿã€çš„ä¸»è¦å®—ï¼ˆã€€ï¼‰åœ¨æ–¼ç¶­è­·æ±è¥¿å…©åœ‹çš„å’Œå¹³ã€‚",
                imageUrl: "3.jpg",
                answerOptions: [
                    { text: "æ—¨", rationale: "ã€Œå®—æ—¨ã€æŒ‡ä¸»è¦çš„æ„åœ–æˆ–ç›®çš„ã€‚", isCorrect: true },
                    { text: "æŒ‡", rationale: "ã€Œå®—æŒ‡ã€ä¸æ˜¯ä¸€å€‹è©èªã€‚", isCorrect: false }
                ],
                hint: "æ„æ—¨ã€ç›®çš„ã€‚"
            },
            {
                question: "4. é€™æ¬¡çš„è·Ÿç›£å°è±¡éå¸¸ï¼ˆã€€ï¼‰ï¼ˆã€€ï¼‰ï¼Œè¨­ä¸‹äº†è¨±å¤šåœˆå¥—è©¦åœ–æ“ºè„«æ´›ä¼Šå¾·çš„è¿½è¹¤ã€‚",
                imageUrl: "4.jpg",
                answerOptions: [
                    { text: "ç‹¡çŒ¾", rationale: "å½¢å®¹äººè©­è¨ˆå¤šç«¯ï¼Œä¸å¯ä¿¡ä»»ã€‚", isCorrect: true },
                    { text: "è°æ˜", rationale: "ã€Œè°æ˜ã€æ˜¯ä¸­æ€§è©ï¼Œé€™è£¡éœ€è¦è²¶ç¾©è©ä¾†å½¢å®¹æ•µäººçš„è©­è¨ˆã€‚", isCorrect: false }
                ],
                hint: "å½¢å®¹åƒç‹ç‹¸ä¸€æ¨£è©­è¨ˆå¤šç«¯ã€‚"
            },
            {
                question: "5. åœ¨æƒ…å ±æˆ°ä¸­ï¼Œã€Œé»ƒæ˜ã€å¿…é ˆå…·å‚™åœ¨æ¥µçŸ­æ™‚é–“å…§åˆ†ï¼ˆã€€ï¼‰è³‡è¨ŠçœŸå½çš„èƒ½åŠ›ã€‚",
                imageUrl: "5.jpg",
                answerOptions: [
                    { text: "è¾¨", rationale: "ã€Œåˆ†è¾¨ã€æŒ‡å€åˆ¥ã€è¾¨è­˜ã€‚", isCorrect: true },
                    { text: "è¾¯", rationale: "ã€Œåˆ†è¾¯ã€æ˜¯ç”¨è¨€èªè§£é‡‹ã€è¾¯è§£çš„æ„æ€ï¼Œä¸ç¬¦èªå¢ƒã€‚", isCorrect: false }
                ],
                hint: "å€åˆ¥ã€åˆ¤æ–·ï¼Œä¸­é–“æ˜¯ä¸€é»ä¸€æ’‡ã€‚"
            },
            {
                question: "6. ç‚ºäº†ä¿è­·å®¶äººï¼Œæ´›ä¼Šå¾·å³ä½¿åœ¨å®¶ä¸­ä¹Ÿä¿æŒé«˜åº¦è­¦ï¼ˆã€€ï¼‰ï¼Œéš¨æ™‚è¦ºï¼ˆã€€ï¼‰ç’°å¢ƒä¸­çš„ç´°å¾®ç•°ç‹€ã€‚",
                imageUrl: "6.jpg",
                answerOptions: [
                    { text: "æƒ• / å¯Ÿ", rationale: "ã€Œè­¦æƒ•ã€æŒ‡å°å¯èƒ½ç™¼ç”Ÿçš„å±éšªä¿æŒæˆ’å‚™ï¼›ã€Œè¦ºå¯Ÿã€æŒ‡ç™¼è¦ºã€çœ‹å‡ºä¾†ã€‚", isCorrect: true },
                    { text: "å‰” / æŸ¥", rationale: "ã€Œè­¦å‰”ã€éŒ¯å­—ï¼›ã€Œè¦ºæŸ¥ã€éŒ¯å­—ã€‚", isCorrect: false }
                ],
                hint: "ç¬¬ä¸€å€‹å­—æ˜¯è±å¿ƒæ—ï¼ŒæŒ‡æˆ’å‚™ï¼›ç¬¬äºŒå€‹å­—æŒ‡ç™¼è¦ºã€‚"
            },
            {
                question: "7. é­é‡çªå¦‚å…¶ä¾†çš„æ§æˆ°æ™‚ï¼Œæ´›ä¼Šå¾·ä»¥è¿…é›·ä¸åŠæ©è€³çš„é€Ÿåº¦æ‰¾åˆ°äº†æ©ï¼ˆã€€ï¼‰ç‰©ã€‚",
                imageUrl: "7.jpg",
                answerOptions: [
                    { text: "è”½", rationale: "ã€Œæ©è”½ã€æŒ‡é®æ©ã€æ“‹ä½ã€‚", isCorrect: true },
                    { text: "é¿", rationale: "ã€Œæ©é¿ã€éŒ¯å­—ï¼Œæ‡‰ç‚ºã€Œèº²é¿ã€ã€‚", isCorrect: false }
                ],
                hint: "é®æ“‹ã€éš±è—ï¼Œè‰å­—é ­ã€‚"
            },
            {
                question: "8. çµæŸäº†å„è‡ªç¹å¿™çš„ã€Œå·¥ä½œã€ï¼Œä½›å‚‘ä¸€å®¶å›åˆ°æº«æš–çš„å…¬ï¼ˆã€€ï¼‰ï¼Œäº«å—ï¼ˆã€€ï¼‰é–’çš„æ™šé¤æ™‚å…‰ã€‚",
                imageUrl: "8.jpg",
                answerOptions: [
                    { text: "å¯“ / æ‚ ", rationale: "ã€Œå…¬å¯“ã€æŒ‡å¤šå±¤æ¨“çš„ä½å®…ï¼›ã€Œæ‚ é–’ã€æŒ‡é–’é©è‡ªå¾—ã€‚", isCorrect: true },
                    { text: "å®‡ / å„ª", rationale: "ã€Œå…¬å®‡ã€æŒ‡å…¬å…±å»ºç¯‰ï¼›ã€Œå„ªé–’ã€é›–é€šï¼Œä½†ã€Œæ‚ é–’ã€æ›´å¸¸è¦‹ã€‚", isCorrect: false }
                ],
                hint: "ç¬¬ä¸€å€‹å­—æŒ‡ä½æ‰€ï¼›ç¬¬äºŒå€‹å­—å½¢å®¹é–’é©çš„æ¨£å­ã€‚"
            },
            {
                question: "9. é›–ç„¶é€™å€‹å®¶åº­æ˜¯å»ºç«‹åœ¨æ¬ºï¼ˆã€€ï¼‰èˆ‡ï¼ˆã€€ï¼‰è¨€ä¹‹ä¸Šï¼Œä½†ä»–å€‘ä¹‹é–“çš„ç¾ˆçµ†å»è¶Šä¾†è¶ŠçœŸå¯¦ã€‚",
                imageUrl: "9.jpg",
                answerOptions: [
                    { text: "é¨™ / è¬Š", rationale: "ã€Œæ¬ºé¨™ã€èˆ‡ã€Œè¬Šè¨€ã€æ„æ€ç›¸è¿‘ï¼Œéƒ½æŒ‡ä¸çœŸå¯¦çš„è©±èªæˆ–è¡Œç‚ºã€‚", isCorrect: true },
                    { text: "å / è’", rationale: "ã€Œæ¬ºåã€éŒ¯å­—ï¼›ã€Œè’è¨€ã€æŒ‡è’å”çš„è©±ï¼Œèªæ°£ä¸åŒã€‚", isCorrect: false }
                ],
                hint: "éƒ½èˆ‡èªªå‡è©±æœ‰é—œã€‚"
            },
            {
                question: "10. ç‚ºäº†é€šéä¼Šç”¸å­¸åœ’çš„å¯©æŸ¥ï¼Œæ´›ä¼Šå¾·ä¸å¾—ä¸è£½é€ è¨±å¤šè™›ï¼ˆã€€ï¼‰çš„èº«åˆ†è­‰æ˜æ–‡ä»¶ã€‚",
                imageUrl: "10.jpg",
                answerOptions: [
                    { text: "å½", rationale: "ã€Œè™›å½ã€æŒ‡ä¸çœŸå¯¦ã€é€ å‡çš„ã€‚", isCorrect: true },
                    { text: "ç‚º", rationale: "ã€Œè™›ç‚ºã€ä¸æ˜¯ä¸€å€‹è©èªã€‚", isCorrect: false }
                ],
                hint: "å‡çš„ã€ä¸çœŸå¯¦çš„ï¼Œäººå­—æ—ã€‚"
            },
            {
                question: "11. ç‚ºäº†å±•ç¾ã€Œå„ªé›…ã€ï¼Œå®‰å¦®äºç”¨ç•¥é¡¯æµ®ï¼ˆã€€ï¼‰çš„èªæ°£è®šç¾ä¼Šç”¸å­¸åœ’çš„æ ¡åœ’ç’°å¢ƒã€‚",
                imageUrl: "11.jpg",
                answerOptions: [
                    { text: "èª‡", rationale: "ã€Œæµ®èª‡ã€æŒ‡è™›æµ®ä¸å¯¦ï¼Œèª‡å¼µéåº¦ã€‚", isCorrect: true },
                    { text: "è·¨", rationale: "ã€Œæµ®è·¨ã€ä¸æ˜¯ä¸€å€‹è©èªã€‚", isCorrect: false }
                ],
                hint: "èª‡å¼µã€ä¸åˆ‡å¯¦éš›ï¼Œè¨€å­—æ—ã€‚"
            },
            {
                question: "12. é”ç±³å®‰å°‘çˆºç‚ºäº†æ©é£¾å®³ç¾ï¼Œç¸½æ˜¯æ•…æ„ç”¨ï¼ˆã€€ï¼‰åˆºçš„èªæ°£å’Œå®‰å¦®äºèªªè©±ã€‚",
                imageUrl: "12.jpg",
                answerOptions: [
                    { text: "è«·", rationale: "ã€Œè«·åˆºã€æŒ‡ç”¨å«è“„æˆ–èª‡å¼µçš„è©±ä¾†è­åˆºåˆ¥äººã€‚", isCorrect: true },
                    { text: "é¢¨", rationale: "ã€Œé¢¨åˆºã€éŒ¯å­—ã€‚", isCorrect: false }
                ],
                hint: "ç”¨è¨€èªè­åˆºåˆ¥äººï¼Œè¨€å­—æ—ã€‚"
            },
            {
                question: "13. åŒæ™‚å…¼é¡§å¤šé‡èº«åˆ†èˆ‡ä»»å‹™ï¼Œè®“éµäººèˆ¬çš„æ´›ä¼Šå¾·ä¹Ÿæ„Ÿåˆ°é«”åŠ›é€æ”¯ã€èº«é«”ï¼ˆã€€ï¼‰å¼±ã€‚",
                imageUrl: "13.jpg",
                answerOptions: [
                    { text: "è™›", rationale: "ã€Œè™›å¼±ã€æŒ‡èº«é«”è¡°å¼±ï¼Œæ²’æœ‰åŠ›æ°£ã€‚", isCorrect: true },
                    { text: "éœ€", rationale: "ã€Œéœ€å¼±ã€ä¸æ˜¯ä¸€å€‹è©èªã€‚", isCorrect: false }
                ],
                hint: "èº«é«”è¡°å¼±ç„¡åŠ›ã€‚"
            },
            {
                question: "14. æ´›ä¼Šå¾·åŠªåŠ›è§£é‡‹ã€Œï¼ˆã€€ï¼‰èšŒç›¸çˆ­ã€çš„æˆèªæ•…äº‹ï¼Œä½†å®‰å¦®äºè…¦ä¸­åªæƒ³è‘—çƒ¤æµ·é®®ã€‚",
                imageUrl: "14.jpg",
                answerOptions: [
                    { text: "é·¸", rationale: "ã€Œé·¸èšŒç›¸çˆ­ã€æ˜¯æˆèªï¼Œé·¸æ˜¯ä¸€ç¨®æ°´é³¥ã€‚", isCorrect: true },
                    { text: " é·‚", rationale: "ã€Œé·‚ã€æ˜¯å¦ä¸€ç¨®çŒ›ç¦½ï¼Œä¸ç¬¦åˆæ­¤æˆèªå…¸æ•…ã€‚", isCorrect: false }
                ],
                hint: "ä¸€ç¨®é•·å˜´å·´çš„æ°´é³¥ï¼Œé³¥å­—æ—ã€‚"
            }
        ];

        // 2. è®Šæ•¸è¨­å®š
        let currentQuestionIndex = 0;
        let score = 0;
        let isQuestionAnswered = false;

        // 3. DOM å…ƒç´ 
        const questionTextEl = document.getElementById('question-text');
        const quizImageEl = document.getElementById('quiz-image');
        const optionsContainerEl = document.getElementById('options-container');
        const feedbackEl = document.getElementById('feedback');
        const hintBoxEl = document.getElementById('hint-box');
        const hintTextEl = document.getElementById('hint-text');
        const nextBtnEl = document.getElementById('next-btn');
        const hintBtnEl = document.getElementById('hint-btn');
        const quizContentEl = document.getElementById('quiz-content');
        const resultsContentEl = document.getElementById('results-content');
        const finalScoreEl = document.getElementById('final-score');
        const resultMessageEl = document.getElementById('result-message');
        const progressBarEl = document.getElementById('progress-bar');

        // 4. åˆå§‹åŒ–æ¸¬é©—
        function initQuiz() {
            currentQuestionIndex = 0;
            score = 0;
            quizContentEl.style.display = 'block';
            resultsContentEl.style.display = 'none';
            loadQuestion();
        }

        // 5. è¼‰å…¥é¡Œç›®
        function loadQuestion() {
            isQuestionAnswered = false;
            const currentQuizData = quizData[currentQuestionIndex];

            // æ›´æ–° UI
            questionTextEl.innerText = currentQuizData.question;
            quizImageEl.src = currentQuizData.imageUrl;
            
            quizImageEl.onerror = function() {
                this.alt = "âš ï¸ å½±åƒè³‡æ–™éºå¤±ã€‚è«‹ç¢ºèªåœ–ç‰‡æª”æ¡ˆ (1.jpg - 14.jpg) æ˜¯å¦èˆ‡ç¶²é åœ¨åŒä¸€ç›®éŒ„ä¸‹ã€‚";
                this.style.backgroundColor = "#f8d7da";
                this.style.padding = "20px";
                this.style.color = "#721c24";
                this.style.fontWeight = "bold";
            };

            hintTextEl.innerText = currentQuizData.hint;
            feedbackEl.style.display = 'none';
            feedbackEl.className = 'feedback';
            hintBoxEl.style.display = 'none';
            nextBtnEl.style.display = 'none';
            hintBtnEl.disabled = false;

            // æ›´æ–°é€²åº¦æ¢
            const progressPercentage = ((currentQuestionIndex) / quizData.length) * 100;
            progressBarEl.style.width = `${progressPercentage}%`;

            // æ¸…ç©ºä¸¦é‡æ–°ç”¢ç”Ÿé¸é …æŒ‰éˆ•
            optionsContainerEl.innerHTML = '';
            currentQuizData.answerOptions.forEach((option, index) => {
                const button = document.createElement('button');
                button.innerText = option.text;
                button.classList.add('option-btn');
                button.addEventListener('click', () => selectOption(index));
                optionsContainerEl.appendChild(button);
            });
        }

        // 6. é¸æ“‡ç­”æ¡ˆè™•ç†
        function selectOption(selectedIndex) {
            if (isQuestionAnswered) return;

            isQuestionAnswered = true;
            const currentQuizData = quizData[currentQuestionIndex];
            const selectedOption = currentQuizData.answerOptions[selectedIndex];
            const optionButtons = optionsContainerEl.querySelectorAll('.option-btn');

            optionButtons.forEach(btn => btn.disabled = true);
            hintBtnEl.disabled = true;
            hintBoxEl.style.display = 'none';

            if (selectedOption.isCorrect) {
                score++;
                optionButtons[selectedIndex].classList.add('correct');
                feedbackEl.innerHTML = "<strong>âœ… ä»»å‹™æˆåŠŸï¼</strong> " + selectedOption.rationale;
                feedbackEl.classList.add('correct');
            } else {
                optionButtons[selectedIndex].classList.add('incorrect');
                const correctIndex = currentQuizData.answerOptions.findIndex(opt => opt.isCorrect);
                optionButtons[correctIndex].classList.add('correct');
                
                feedbackEl.innerHTML = "<strong>âŒ ä»»å‹™å¤±æ•—ã€‚</strong> " + selectedOption.rationale;
                feedbackEl.classList.add('incorrect');
            }
            
            feedbackEl.style.display = 'block';
            nextBtnEl.style.display = 'block';
        }

        // 7. é¡¯ç¤ºæç¤º
        function toggleHint() {
            if (hintBoxEl.style.display === 'block') {
                hintBoxEl.style.display = 'none';
            } else {
                hintBoxEl.style.display = 'block';
            }
        }

        // 8. ä¸‹ä¸€é¡Œ
        function nextQuestion() {
            currentQuestionIndex++;
            if (currentQuestionIndex < quizData.length) {
                loadQuestion();
            } else {
                showResults();
            }
        }

        // 9. é¡¯ç¤ºçµæœ
        function showResults() {
            quizContentEl.style.display = 'none';
            resultsContentEl.style.display = 'block';
            progressBarEl.style.width = '100%';

            finalScoreEl.innerText = `${score} / ${quizData.length}`;

            let message = "";
            if (score === quizData.length) {
                message = "å¤ªå®Œç¾äº†ï¼ä»£è™Ÿã€Œå­¸éœ¸ã€ï¼Œä½ çš„ä»»å‹™åŸ·è¡Œç‡æ˜¯ 100%ï¼ğŸŒŸğŸŒŸğŸŒŸ";
            } else if (score >= quizData.length * 0.8) {
                message = "å„ªç§€çš„è¡¨ç¾ï¼åªå·®ä¸€é»é»å°±èƒ½æˆç‚ºé ‚å°–é–“è«œäº†ï¼Œç¹¼çºŒåŠ æ²¹ï¼âœ¨";
            } else if (score >= quizData.length * 0.6) {
                message = "ä»»å‹™å‹‰å¼·å®Œæˆã€‚é‚„éœ€è¦æ›´å¤šè¨“ç·´æ‰èƒ½è·Ÿä¸Šä½›å‚‘ä¸€å®¶çš„è…³æ­¥å–”ï¼ğŸ’ª";
            } else {
                message = "ä»»å‹™å¤±æ•—...çœ‹ä¾†ä½ éœ€è¦åƒå®‰å¦®äºä¸€æ¨£å¤šè®€é»æ›¸äº†ã€‚å†æŒ‘æˆ°ä¸€æ¬¡å§ï¼ğŸ“š";
            }
            resultMessageEl.innerText = message;
        }

        // 10. é‡æ–°é–‹å§‹
        function restartQuiz() {
            initQuiz();
        }

        // --- å•Ÿå‹• ---
        initQuiz();

    </script>
</body>
</html>
